<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SOFA: Sofa/Component/Mapping/Testing/src/sofa/component/mapping/testing/MultiMappingTestCreation.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SOFA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_multi_mapping_test_creation_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MultiMappingTestCreation.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_multi_mapping_test_creation_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/******************************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">*                 SOFA, Simulation Open-Framework Architecture                *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">*                    (c) 2006 INRIA, USTL, UJF, CNRS, MGH                     *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">*                                                                             *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">* This program is free software; you can redistribute it and/or modify it     *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">* under the terms of the GNU General Public License as published by the Free  *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">* Software Foundation; either version 2 of the License, or (at your option)   *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">* any later version.                                                          *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">*                                                                             *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">* This program is distributed in the hope that it will be useful, but WITHOUT *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">* ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or       *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">* FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for    *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">* more details.                                                               *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">*                                                                             *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">* You should have received a copy of the GNU General Public License along     *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">* with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.              *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">*******************************************************************************</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">* Authors: The SOFA Team and external contributors (see Authors.txt)          *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">*                                                                             *</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">* Contact information: contact@sofa-framework.org                             *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">******************************************************************************/</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/* Francois Faure, 2013 */</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#ifndef SOFA_STANDARDTEST_MultiMapping_test_H</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#define SOFA_STANDARDTEST_MultiMapping_test_H</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="src_2sofa_2testing_2_base_simulation_test_8h.html">sofa/testing/BaseSimulationTest.h</a>&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">using</span> <a class="code" href="classsofa_1_1testing_1_1_base_simulation_test.html">sofa::testing::BaseSimulationTest</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="src_2sofa_2testing_2_numeric_test_8h.html">sofa/testing/NumericTest.h</a>&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">using</span> <a class="code" href="structsofa_1_1testing_1_1_numeric_test.html">sofa::testing::NumericTest</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_vector_operations_8h.html">sofa/simulation/VectorOperations.h</a>&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_linear_algebra_2src_2sofa_2linearalgebra_2_full_vector_8h.html">sofa/linearalgebra/FullVector.h</a>&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_linear_algebra_2src_2sofa_2linearalgebra_2_eigen_sparse_matrix_8h.html">sofa/linearalgebra/EigenSparseMatrix.h</a>&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_state_container_2src_2sofa_2component_2statecontainer_2_mechanical_object_8h.html">sofa/component/statecontainer/MechanicalObject.h</a>&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_simulation_2_graph_2src_2sofa_2simulation_2graph_2_d_a_g_simulation_8h.html">sofa/simulation/graph/DAGSimulation.h</a>&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;SceneCreator/SceneCreator.h&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_type_2src_2sofa_2type_2vector_8h.html">sofa/type/vector.h</a>&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="_multi_mapping_8h.html">sofa/core/MultiMapping.h</a>&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacesofa.html">sofa</a> {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">template</span>&lt; <span class="keyword">class</span> _MultiMapping&gt;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html">   53</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsofa_1_1_multi_mapping__test.html">MultiMapping_test</a> : <span class="keyword">public</span> <a class="code" href="classsofa_1_1testing_1_1_base_simulation_test.html">BaseSimulationTest</a>, <a class="code" href="structsofa_1_1testing_1_1_numeric_test.html">NumericTest</a>&lt;typename _MultiMapping::In::Real&gt;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a928b2f4ab8e9335cae793dd5f9791bec">   55</a></span>&#160;    <span class="keyword">typedef</span> _MultiMapping <a class="code" href="structsofa_1_1_multi_mapping__test.html#a928b2f4ab8e9335cae793dd5f9791bec">Mapping</a>;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ad7cf073e5e0911dcd2e84afd05a7bae5">   56</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1core_1_1_mapping.html#a2cbc1372bbf7fdcbf0a794f8a3653705">Mapping::In</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#ad7cf073e5e0911dcd2e84afd05a7bae5">In</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a6067b8002b4e6abe41db5f56fd803714">   57</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html">component::statecontainer::MechanicalObject&lt;In&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a6067b8002b4e6abe41db5f56fd803714">InDOFs</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#aa04abf256b8c0adbead2c7ffbf29ad82">   58</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#acf523069e5b1497cffac17511dcd3b1e">InDOFs::Real</a>  <a class="code" href="structsofa_1_1_multi_mapping__test.html#aa04abf256b8c0adbead2c7ffbf29ad82">Real</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ab6307ab0b62c21339320407182e2326d">   59</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a705fac58c33b23c20e6bac3fd2b0bb87">InDOFs::Deriv</a>  <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab6307ab0b62c21339320407182e2326d">InDeriv</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a5a775243c5ed6b2795c78a5de60ded4f">   60</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a05882e2e9ba8d707ab531ab94a1f39e0">InDOFs::VecCoord</a>  <a class="code" href="structsofa_1_1_multi_mapping__test.html#a5a775243c5ed6b2795c78a5de60ded4f">InVecCoord</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a6b0ebe7059f48745ec40dfcac25a9d16">   61</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a83fb2b666b4e514e93d3bb221aa681ef">InDOFs::VecDeriv</a>  <a class="code" href="structsofa_1_1_multi_mapping__test.html#a6b0ebe7059f48745ec40dfcac25a9d16">InVecDeriv</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ae1d0c4070458d869eb6d55f2e2d9ca07">   62</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> InDOFs::ReadVecCoord  <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae1d0c4070458d869eb6d55f2e2d9ca07">ReadInVecCoord</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a72f845433b1984799d9ab860c70e66e6">   63</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> InDOFs::WriteVecCoord <a class="code" href="structsofa_1_1_multi_mapping__test.html#a72f845433b1984799d9ab860c70e66e6">WriteInVecCoord</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a71bb54e609cdd240e82e346ae09b9520">   64</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> InDOFs::ReadVecDeriv  <a class="code" href="structsofa_1_1_multi_mapping__test.html#a71bb54e609cdd240e82e346ae09b9520">ReadInVecDeriv</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">   65</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> InDOFs::WriteVecDeriv <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">WriteInVecDeriv</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a01339702a3757eb46ee327a04ef16713">   66</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1core_1_1objectmodel_1_1_data.html">Data&lt;InVecCoord&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a01339702a3757eb46ee327a04ef16713">InDataVecCoord</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a622afbe34df296acd41a644b7589147b">   67</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1core_1_1objectmodel_1_1_data.html">Data&lt;InVecDeriv&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a622afbe34df296acd41a644b7589147b">InDataVecDeriv</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ab5addeddbd8f37715f373b24067aa25d">   69</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1core_1_1_mapping.html#a2fe45db3b15eca1e01f0d010ba464dc3">Mapping::Out</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab5addeddbd8f37715f373b24067aa25d">Out</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a5785496437e89f2b9e6d77cbf10e9357">   70</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html">component::statecontainer::MechanicalObject&lt;Out&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a5785496437e89f2b9e6d77cbf10e9357">OutDOFs</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a645bebb63f07cb1db234468b7d7b9fd0">   71</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a7c0bd56aca42d0e855a400b50f3e078b">OutDOFs::Coord</a>     <a class="code" href="structsofa_1_1_multi_mapping__test.html#a645bebb63f07cb1db234468b7d7b9fd0">OutCoord</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a52182606bf48d2d01e6bb44c521e6887">   72</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a705fac58c33b23c20e6bac3fd2b0bb87">OutDOFs::Deriv</a>     <a class="code" href="structsofa_1_1_multi_mapping__test.html#a52182606bf48d2d01e6bb44c521e6887">OutDeriv</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a0672de0685239ac388da055947036c13">   73</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a05882e2e9ba8d707ab531ab94a1f39e0">OutDOFs::VecCoord</a>  <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0672de0685239ac388da055947036c13">OutVecCoord</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#acba59fe99d0ab3b373f98ae6f0aba5fc">   74</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a83fb2b666b4e514e93d3bb221aa681ef">OutDOFs::VecDeriv</a>  <a class="code" href="structsofa_1_1_multi_mapping__test.html#acba59fe99d0ab3b373f98ae6f0aba5fc">OutVecDeriv</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a5b80217f0d4b53e603a89c78caafa753">   75</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> OutDOFs::ReadVecCoord  <a class="code" href="structsofa_1_1_multi_mapping__test.html#a5b80217f0d4b53e603a89c78caafa753">ReadOutVecCoord</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ab37e5be84d9f660871b1e73f86712e69">   76</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> OutDOFs::WriteVecCoord <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab37e5be84d9f660871b1e73f86712e69">WriteOutVecCoord</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a78c717be5e8b8016bee58d8fd77d9013">   77</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> OutDOFs::ReadVecDeriv  <a class="code" href="structsofa_1_1_multi_mapping__test.html#a78c717be5e8b8016bee58d8fd77d9013">ReadOutVecDeriv</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#afea3a80d286fe92520a4a8cf1939dbcd">   78</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> OutDOFs::WriteVecDeriv <a class="code" href="structsofa_1_1_multi_mapping__test.html#afea3a80d286fe92520a4a8cf1939dbcd">WriteOutVecDeriv</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a767d9c6c0b9e62437c06d33ca744c90c">   79</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1core_1_1objectmodel_1_1_data.html">Data&lt;OutVecCoord&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a767d9c6c0b9e62437c06d33ca744c90c">OutDataVecCoord</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a3eaa561c82784291407fb5c8814dfe60">   80</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1core_1_1objectmodel_1_1_data.html">Data&lt;OutVecDeriv&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a3eaa561c82784291407fb5c8814dfe60">OutDataVecDeriv</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#aaa47eb9abea416ddfeb757ccb4ff2ee6">   82</a></span>&#160;    <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html">linearalgebra::EigenSparseMatrix&lt;In,Out&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#aaa47eb9abea416ddfeb757ccb4ff2ee6">EigenSparseMatrix</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">   85</a></span>&#160;    <a class="code" href="classsofa_1_1core_1_1_multi_mapping.html">core::MultiMapping&lt;In,Out&gt;</a>* <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">   86</a></span>&#160;    <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;InDOFs*&gt;</a>  <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>;  </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">   87</a></span>&#160;    <a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html">OutDOFs</a>* <a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a>; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">   88</a></span>&#160;    <a class="code" href="classsofa_1_1core_1_1objectmodel_1_1_base.html#ab57acce1b994c39fb8ad8014583a8bbd">simulation::Node::SPtr</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">root</a>;         </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ab827d6615199136cdc4b094b7f3bd0cf">   89</a></span>&#160;    <a class="code" href="classsofa_1_1core_1_1objectmodel_1_1_base.html#ab57acce1b994c39fb8ad8014583a8bbd">simulation::Node::SPtr</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab827d6615199136cdc4b094b7f3bd0cf">child</a>; </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a42120418e465ab970e54188685ba6c85">   90</a></span>&#160;    <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;simulation::Node::SPtr&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a42120418e465ab970e54188685ba6c85">parents</a>; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a89530560649ee50f2a37b34839a0da33">   91</a></span>&#160;    <a class="code" href="classsofa_1_1simulation_1_1_simulation.html">simulation::Simulation</a>* <a class="code" href="structsofa_1_1_multi_mapping__test.html#a89530560649ee50f2a37b34839a0da33">simulation</a>;  </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a158bce27a7c47835538ec4c5f2958680">   92</a></span>&#160;    std::pair&lt;Real,Real&gt; <a class="code" href="structsofa_1_1_multi_mapping__test.html#a158bce27a7c47835538ec4c5f2958680">deltaRange</a>; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ac6655d65ecb90b54a1c046685fbff3ec">   93</a></span>&#160;    <a class="code" href="structsofa_1_1_multi_mapping__test.html#aa04abf256b8c0adbead2c7ffbf29ad82">Real</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#ac6655d65ecb90b54a1c046685fbff3ec">errorMax</a>;     </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a9ca43860d7b5b612dfd5d48237efbed4">   96</a></span>&#160;    <a class="code" href="structsofa_1_1_multi_mapping__test.html#a9ca43860d7b5b612dfd5d48237efbed4">MultiMapping_test</a>():<a class="code" href="structsofa_1_1_multi_mapping__test.html#a158bce27a7c47835538ec4c5f2958680">deltaRange</a>(1,1000),<a class="code" href="structsofa_1_1_multi_mapping__test.html#ac6655d65ecb90b54a1c046685fbff3ec">errorMax</a>(10)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="namespacesofa_1_1simulation.html#aca2e21b52ff20c9894ee0246db43af80">sofa::simulation::setSimulation</a>(<a class="code" href="structsofa_1_1_multi_mapping__test.html#a89530560649ee50f2a37b34839a0da33">simulation</a> = <span class="keyword">new</span> <a class="code" href="classsofa_1_1simulation_1_1graph_1_1_d_a_g_simulation.html">sofa::simulation::graph::DAGSimulation</a>());</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a18f47ce5b3375206654d0933d5582465">  105</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a18f47ce5b3375206654d0933d5582465">setupScene</a>(<span class="keywordtype">int</span> numParents)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">root</a> = <a class="code" href="structsofa_1_1_multi_mapping__test.html#a89530560649ee50f2a37b34839a0da33">simulation</a>-&gt;<a class="code" href="classsofa_1_1simulation_1_1_simulation.html#af23b42f755a12696927092a8bfcd9b19">createNewGraph</a>(<span class="stringliteral">&quot;root&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab827d6615199136cdc4b094b7f3bd0cf">child</a> = <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">root</a>-&gt;createChild(<span class="stringliteral">&quot;childNode&quot;</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a> = modeling::addNew&lt;OutDOFs&gt;(<a class="code" href="structsofa_1_1_multi_mapping__test.html#ab827d6615199136cdc4b094b7f3bd0cf">child</a>).get();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a> = modeling::addNew&lt;Mapping&gt;(<a class="code" href="structsofa_1_1_multi_mapping__test.html#ab827d6615199136cdc4b094b7f3bd0cf">child</a>).get();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#a971fd53608c92b36a6326fd5b4ed8dce">addOutputModel</a>(<a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;numParents; i++ )</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            std::stringstream ss;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            ss &lt;&lt; <span class="stringliteral">&quot;parentNode&quot;</span> &lt;&lt; i;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#a42120418e465ab970e54188685ba6c85">parents</a>.push_back(<a class="code" href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">root</a>-&gt;createChild(ss.str()));</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keyword">typename</span> InDOFs::SPtr inDof = modeling::addNew&lt;InDOFs&gt;(<a class="code" href="structsofa_1_1_multi_mapping__test.html#a42120418e465ab970e54188685ba6c85">parents</a>[i],ss.str().c_str());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#a3d1f1aa96bf21d5e3bb0cc82bb435ba5">addInputModel</a>( inDof.get() );</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>.push_back(inDof.get());</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#a8cd6e9972896545c7d255cc62688eb42">  132</a></span>&#160;    <a class="code" href="structsofa_1_1_multi_mapping__test.html#a52182606bf48d2d01e6bb44c521e6887">OutDeriv</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a8cd6e9972896545c7d255cc62688eb42">difference</a>( <span class="keyword">const</span> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a645bebb63f07cb1db234468b7d7b9fd0">OutCoord</a>&amp; c1, <span class="keyword">const</span> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a645bebb63f07cb1db234468b7d7b9fd0">OutCoord</a>&amp; c2 )</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordflow">return</span> Out::coordDifference(c1,c2);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#aa571a81eeac2685881336f1c792775cc">  151</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsofa_1_1_multi_mapping__test.html#aa571a81eeac2685881336f1c792775cc">runTest</a>( <span class="keyword">const</span> <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;InVecCoord&gt;</a>&amp; parentCoords,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                  <span class="keyword">const</span> <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0672de0685239ac388da055947036c13">OutVecCoord</a>&amp; expectedChildCoords)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="structsofa_1_1_multi_mapping__test.html#a158bce27a7c47835538ec4c5f2958680">deltaRange</a>.second / <a class="code" href="structsofa_1_1_multi_mapping__test.html#ac6655d65ecb90b54a1c046685fbff3ec">errorMax</a> &lt;= <a class="code" href="namespacesofa_1_1testing.html#ad680a85ee9e11c69387a3b74cd0c911f">sofa::testing::g_minDeltaErrorRatio</a> )</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;The comparison threshold is too large for the finite difference delta&quot;</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html">linearalgebra::EigenSparseMatrix&lt;In,Out&gt;</a> <a class="code" href="structsofa_1_1_multi_mapping__test.html#aaa47eb9abea416ddfeb757ccb4ff2ee6">EigenSparseMatrix</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="classsofa_1_1core_1_1_mechanical_params.html">core::MechanicalParams</a> mparams;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        mparams.<a class="code" href="classsofa_1_1core_1_1_mechanical_params.html#a34cb1e2e21c73225c4b1b324f70995ef">setKFactor</a>(1.0);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        mparams.<a class="code" href="classsofa_1_1core_1_1_mechanical_params.html#adb523f266a22b0f747071bdd0e521f75">setSymmetricMatrix</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="comment">// transfer the parent values in the parent states</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;parentCoords.size(); i++ )</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            this-&gt;inDofs[i]-&gt;resize(parentCoords[i].size());</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#a72f845433b1984799d9ab860c70e66e6">WriteInVecCoord</a> xin = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[i]-&gt;writePositions();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>(xin,parentCoords[i]); <span class="comment">// xin = parentNew[i]</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="namespacesofa_1_1simulation.html#a3f188bf134586b8257f78840e11d1b61">sofa::simulation::getSimulation</a>()-&gt;<a class="code" href="classsofa_1_1simulation_1_1_simulation.html#aa0a7c57fafc306f40092c0281388f026">init</a>(<a class="code" href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">root</a>.get());</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#ab6ed07a5be5d5dff58241006b6c5d6e4">apply</a>(&amp;mparams, core::VecCoordId::position(), core::VecCoordId::position());</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#ac317060c2c72d76c705ca36f93e247b7">applyJ</a>(&amp;mparams, core::VecDerivId::velocity(), core::VecDerivId::velocity());</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordtype">bool</span> succeed=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a5b80217f0d4b53e603a89c78caafa753">ReadOutVecCoord</a> xout = <a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a>-&gt;readPositions();</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span> (expectedChildCoords.size() != xout.size()) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;Size of output dofs is wrong: &quot;</span> &lt;&lt; xout.size() &lt;&lt; <span class="stringliteral">&quot; expected: &quot;</span> &lt;&lt; expectedChildCoords.size();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            succeed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">for</span>( Index i=0; i&lt;xout.size(); i++ )</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">if</span>( !this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#ad408596315ebad84d2c685a911bdfd0f">isSmall</a>( <a class="code" href="structsofa_1_1_multi_mapping__test.html#a8cd6e9972896545c7d255cc62688eb42">difference</a>(xout[i],expectedChildCoords[i]).<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a24fbe45d7f112256b528932852a8ab73">norm</a>(), <a class="code" href="structsofa_1_1_multi_mapping__test.html#ac6655d65ecb90b54a1c046685fbff3ec">errorMax</a> ) ) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;Position of mapped particle &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; is wrong: \n&quot;</span> &lt;&lt; xout[i] &lt;&lt;<span class="stringliteral">&quot;\nexpected: \n&quot;</span> &lt;&lt; expectedChildCoords[i];</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                succeed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keyword">const</span> Index Nc=<a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a>-&gt;<a class="code" href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a8d99aab23ccd48cab164d43ab3ffd2c1">getSize</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;Index&gt;</a> Np(<a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>.size());</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">for</span>(Index i=0; i&lt;Np.size(); i++)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            Np[i] = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[i]-&gt;getSize();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;InVecCoord&gt;</a> xp(Np.size()),xp1(Np.size());</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;InVecDeriv&gt;</a> vp(Np.size()),fp(Np.size()),dfp(Np.size()),fp2(Np.size());</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0672de0685239ac388da055947036c13">OutVecCoord</a> xc(Nc),xc1(Nc);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#acba59fe99d0ab3b373f98ae6f0aba5fc">OutVecDeriv</a> vc(Nc),fc(Nc);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">// get position data</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">for</span>(Index i=0; i&lt;Np.size(); i++)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a>( xp[i],<a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[i]-&gt;readPositions() );</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <a class="code" href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a>( xc,  <a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a>-&gt;readPositions() ); <span class="comment">// positions and have already been propagated</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="comment">//        cout&lt;&lt;&quot;parent positions xp = &quot;&lt;&lt; xp &lt;&lt; endl;</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="comment">//        cout&lt;&lt;&quot;child  positions xc = &quot;&lt;&lt; xc &lt;&lt; endl;</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// set random child forces and propagate them to the parent</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=0; i&lt;Nc; i++ ){</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            fc[i] = Out::randomDeriv( 0.1, 1.0 );</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">//            cout&lt;&lt;&quot;random child forces  fc[&quot; &lt;&lt; i &lt;&lt;&quot;] = &quot;&lt;&lt;fc[i]&lt;&lt;endl;</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">for</span>(Index p=0; p&lt;Np.size(); p++) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            fp2[p].resize(Np[p]);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            std::fill(fp2[p].begin(), fp2[p].end(), <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab6307ab0b62c21339320407182e2326d">InDeriv</a>() ); <span class="comment">// null vector of appropriate size</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">WriteInVecDeriv</a> fin = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;writeForces();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( fin, fp2[p] );  <span class="comment">// reset parent forces before accumulating child forces</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#afea3a80d286fe92520a4a8cf1939dbcd">WriteOutVecDeriv</a> fout = <a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a>-&gt;writeForces();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( fout, fc );</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#a42929000b3a2d72d33b4a5bcbe47acde">applyJT</a>( &amp;mparams, core::VecDerivId::force(), core::VecDerivId::force() );</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">for</span>(Index i=0; i&lt;Np.size(); i++) <a class="code" href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a>( fp[i], <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[i]-&gt;readForces() );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="comment">//        cout&lt;&lt;&quot;parent forces fp = &quot;&lt;&lt;fp&lt;&lt;endl;</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="comment">// set small parent velocities and use them to update the child</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ){</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            vp[p].resize(Np[p]);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            xp1[p].resize(Np[p]);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=0; i&lt;Np[p]; i++ ){</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                vp[p][i] = In::randomDeriv( this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">epsilon</a>() * deltaRange.first, this-&gt;epsilon() * <a class="code" href="structsofa_1_1_multi_mapping__test.html#a158bce27a7c47835538ec4c5f2958680">deltaRange</a>.second );</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">//                cout&lt;&lt;&quot;parent velocities vp[&quot; &lt;&lt; p &lt;&lt;&quot;] = &quot; &lt;&lt; vp[p] &lt;&lt; endl;</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                xp1[p][i] = xp[p][i] + vp[p][i];</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">//                cout&lt;&lt;&quot;new parent positions xp1[&quot;&lt;&lt; p &lt;&lt;&quot;] = &quot; &lt;&lt; xp1[p] &lt;&lt; endl;</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="comment">// propagate small velocity</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ){</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">WriteInVecDeriv</a> vin = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;writeVelocities();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( vin, vp[p] );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        mparams.<a class="code" href="classsofa_1_1core_1_1_mechanical_params.html#aa09d2d6190fb9edfd1a726cf4b1f7bcb">setDx</a>(core::ConstVecDerivId::velocity());</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#ac317060c2c72d76c705ca36f93e247b7">applyJ</a>( &amp;mparams, core::VecDerivId::velocity(), core::VecDerivId::velocity() );</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a78c717be5e8b8016bee58d8fd77d9013">ReadOutVecDeriv</a> vout = <a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a>-&gt;readVelocities();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <a class="code" href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a>( vc, vout);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="comment">//        cout&lt;&lt;&quot;child velocity vc = &quot; &lt;&lt; vc &lt;&lt; endl;</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">// apply geometric stiffness</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">WriteInVecDeriv</a> dxin = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;writeDx();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( dxin, vp[p] );</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            dfp[p].resize(Np[p]);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            std::fill(dfp[p].begin(), dfp[p].end(), <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab6307ab0b62c21339320407182e2326d">InDeriv</a>()); <span class="comment">// null vector of appropriate size</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">WriteInVecDeriv</a> fin = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;writeForces();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( fin, dfp[p] );</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_base_mapping.html#af67465c18a8771c3f353c672c2ad044a">updateK</a>( &amp;mparams, core::ConstVecDerivId::force() ); <span class="comment">// updating stiffness matrix for the current state and force</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_base_mapping.html#aa675937c08a5e5ae92ef9dd4395913af">applyDJT</a>( &amp;mparams, core::VecDerivId::force(), core::VecDerivId::force() );</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ){</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a>( dfp[p], <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;readForces() ); <span class="comment">// fp + df due to geometric stiffness</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">//            cout&lt;&lt;&quot;dfp[&quot;&lt;&lt; p &lt;&lt;&quot;] = &quot; &lt;&lt; dfp[p] &lt;&lt; endl;</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="comment">// Jacobian will be obsolete after applying new positions</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keyword">const</span> <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;linearalgebra::BaseMatrix*&gt;</a>* J = <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_base_mapping.html#a3e64c52a1e3dbf7ff6e9adb5fae18cf0">getJs</a>();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#acba59fe99d0ab3b373f98ae6f0aba5fc">OutVecDeriv</a> Jv(Nc);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ){</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="comment">//cout&lt;&lt;&quot;J[&quot;&lt;&lt; p &lt;&lt;&quot;] = &quot;&lt;&lt; endl &lt;&lt; *(*J)[p] &lt;&lt; endl;</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html">EigenSparseMatrix</a>* JJ = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html">EigenSparseMatrix</a>*<span class="keyword">&gt;</span>((*J)[p]);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            assert(JJ!=<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            JJ-&gt;<a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html#a7f2932de35c484b7799869ecc994b006">addMult</a>(Jv,vp[p]);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">// ================ test applyJT()</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;InVecDeriv&gt;</a> jfc;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        jfc.resize(Np.size());</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            jfc[p].resize(Np[p]);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            std::fill(jfc[p].begin(), jfc[p].end(), <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab6307ab0b62c21339320407182e2326d">InDeriv</a>());</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html">EigenSparseMatrix</a>* JJ = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html">EigenSparseMatrix</a>*<span class="keyword">&gt;</span>((*J)[p]);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            JJ-&gt;<a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html#a729eb0764a1120e0d1b55ada87b9e003">addMultTranspose</a>(jfc[p],fc);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordflow">if</span>( this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a5ba407afd89c68f9dc2717969625cbce">vectorMaxDiff</a>(jfc[p],fp[p])&gt;this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">epsilon</a>()*<a class="code" href="structsofa_1_1_multi_mapping__test.html#ac6655d65ecb90b54a1c046685fbff3ec">errorMax</a> ){</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                succeed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;applyJT test failed&quot;</span>&lt;&lt;std::endl&lt;&lt;<span class="stringliteral">&quot;jfc[&quot;</span>&lt;&lt; p &lt;&lt;<span class="stringliteral">&quot;] = &quot;</span> &lt;&lt; jfc[p] &lt;&lt; std::endl&lt;&lt;<span class="stringliteral">&quot; fp[&quot;</span>&lt;&lt; p &lt;&lt;<span class="stringliteral">&quot;] = &quot;</span> &lt;&lt; fp[p] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="comment">// ================ test getJs()</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">// check that J.vp = vc</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span>( this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a5ba407afd89c68f9dc2717969625cbce">vectorMaxDiff</a>(Jv,vc)&gt;this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">epsilon</a>()*errorMax ){</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            succeed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                std::cout&lt;&lt;<span class="stringliteral">&quot;J[&quot;</span>&lt;&lt; p &lt;&lt;<span class="stringliteral">&quot;] = &quot;</span>&lt;&lt; std::endl &lt;&lt; *(*J)[p] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                std::cout&lt;&lt;<span class="stringliteral">&quot;vp[&quot;</span>&lt;&lt; p &lt;&lt;<span class="stringliteral">&quot;] = &quot;</span> &lt;&lt; vp[p] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            std::cout&lt;&lt;<span class="stringliteral">&quot;Jvp = &quot;</span> &lt;&lt; Jv &lt;&lt; std::endl;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            std::cout&lt;&lt;<span class="stringliteral">&quot;vc  = &quot;</span> &lt;&lt; vc &lt;&lt; std::endl;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;getJs() test failed&quot;</span>&lt;&lt;std::endl&lt;&lt;<span class="stringliteral">&quot;Jvp = &quot;</span> &lt;&lt; Jv &lt;&lt; std::endl &lt;&lt;<span class="stringliteral">&quot;vc  = &quot;</span> &lt;&lt; vc &lt;&lt; std::endl;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="comment">// compute parent forces from pre-treated child forces (in most cases, the pre-treatment does nothing)</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">// the pre-treatement can be useful to be able to compute 2 comparable results of applyJT with a small displacement to test applyDJT</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            fp[p].<a class="code" href="classsofa_1_1type_1_1vector.html#aeebf0c6711c49e12436612664f82e00d">fill</a>( <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab6307ab0b62c21339320407182e2326d">InDeriv</a>() );</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">WriteInVecDeriv</a> fin = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;writeForces();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( fin, fp[p] );  <span class="comment">// reset parent forces before accumulating child forces</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( fout, fc );</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#a42929000b3a2d72d33b4a5bcbe47acde">applyJT</a>( &amp;mparams, core::VecDerivId::force(), core::VecDerivId::force() );</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ )</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a>( fp[p], <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;readForces() );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="comment">// propagate small displacement</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ){</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#a72f845433b1984799d9ab860c70e66e6">WriteInVecCoord</a> pin = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;writePositions();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( pin, xp1[p] );</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">//            cout&lt;&lt;&quot;new parent positions xp1[&quot;&lt;&lt; p &lt;&lt; &quot;] = &quot; &lt;&lt; xp1[p] &lt;&lt; endl;</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#ab6ed07a5be5d5dff58241006b6c5d6e4">apply</a> ( &amp;mparams, core::VecCoordId::position(), core::VecCoordId::position() );</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a5b80217f0d4b53e603a89c78caafa753">ReadOutVecCoord</a> pout = <a class="code" href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">outDofs</a>-&gt;readPositions();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a>( xc1, pout );</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">//        cout&lt;&lt;&quot;new child positions xc1 = &quot; &lt;&lt; xc1 &lt;&lt; endl;</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="comment">// ================ test applyJ: compute the difference between propagated displacements and velocities</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#acba59fe99d0ab3b373f98ae6f0aba5fc">OutVecDeriv</a> dxc(Nc);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i=0; i&lt;Nc; i++ ){</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            dxc[i] = <a class="code" href="structsofa_1_1_multi_mapping__test.html#a8cd6e9972896545c7d255cc62688eb42">difference</a>( xc1[i], xc[i] );</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">if</span>( this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a5ba407afd89c68f9dc2717969625cbce">vectorMaxDiff</a>(dxc,vc)&gt;this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">epsilon</a>()*errorMax ){</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            succeed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;applyJ test failed: the difference between child position change and child velocity (dt=1) should be less than  &quot;</span> &lt;&lt; this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">epsilon</a>()*errorMax  &lt;&lt; std::endl</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;position change = &quot;</span> &lt;&lt; dxc &lt;&lt; std::endl</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;velocity        = &quot;</span> &lt;&lt; vc &lt;&lt; std::endl;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="comment">// update parent force based on the same child forces</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ){</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            fp2[p].<a class="code" href="classsofa_1_1type_1_1vector.html#aeebf0c6711c49e12436612664f82e00d">fill</a>( <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab6307ab0b62c21339320407182e2326d">InDeriv</a>() );</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">WriteInVecDeriv</a> fin = <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;writeForces();</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( fin, fp2[p] );  <span class="comment">// reset parent forces before accumulating child forces</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <a class="code" href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a>( fout, fc );</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_multi_mapping.html#a42929000b3a2d72d33b4a5bcbe47acde">applyJT</a>( &amp;mparams, core::VecDerivId::force(), core::VecDerivId::force() );</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="classsofa_1_1type_1_1vector.html">type::vector&lt;InVecDeriv&gt;</a> fp12(Np.size());</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ){</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <a class="code" href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a>( fp2[p], <a class="code" href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">inDofs</a>[p]-&gt;readForces() );</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">//            cout&lt;&lt;&quot;updated parent forces fp2[&quot;&lt;&lt; p &lt;&lt;&quot;] = &quot;&lt;&lt; fp2[p] &lt;&lt; endl;</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            fp12[p].resize(Np[p]);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i=0; i&lt;Np[p]; i++){</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                fp12[p][i] = fp2[p][i]-fp[p][i];       <span class="comment">// fp2 - fp</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">//            cout&lt;&lt;&quot;fp2[&quot;&lt;&lt; p &lt;&lt;&quot;] - fp[&quot;&lt;&lt; p &lt;&lt;&quot;] = &quot; &lt;&lt; fp12[p] &lt;&lt; endl;</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="comment">// ================ test applyDJT()</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">if</span>( this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a5ba407afd89c68f9dc2717969625cbce">vectorMaxDiff</a>(dfp[p],fp12[p])&gt;this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">epsilon</a>()*errorMax ){</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                succeed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;applyDJT test failed&quot;</span> &lt;&lt; std::endl &lt;&lt;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                 <span class="stringliteral">&quot;dfp[&quot;</span>&lt;&lt;p&lt;&lt;<span class="stringliteral">&quot;]    = &quot;</span> &lt;&lt; dfp[p] &lt;&lt; std::endl &lt;&lt;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                 <span class="stringliteral">&quot;fp2[&quot;</span>&lt;&lt;p&lt;&lt;<span class="stringliteral">&quot;]-fp[&quot;</span>&lt;&lt;p&lt;&lt;<span class="stringliteral">&quot;] = &quot;</span> &lt;&lt; fp12[p] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="comment">// ================ test getK()</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a6b0ebe7059f48745ec40dfcac25a9d16">InVecDeriv</a> totalvp;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">for</span>( Index p=0; p&lt;Np.size(); p++ ) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">for</span>( Index pi=0; pi&lt;vp[p].size(); pi++ ) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                totalvp.push_back(vp[p][pi]);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="structsofa_1_1_multi_mapping__test.html#a6b0ebe7059f48745ec40dfcac25a9d16">InVecDeriv</a> Kv(totalvp.size());</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keyword">const</span> <a class="code" href="classsofa_1_1linearalgebra_1_1_base_matrix.html">linearalgebra::BaseMatrix</a>* bk = <a class="code" href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">mapping</a>-&gt;<a class="code" href="classsofa_1_1core_1_1_base_mapping.html#abfe8f899d3979d1aa5def4ea27b1cc09">getK</a>();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="comment">// K can be null or empty for linear mappings</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="comment">// still performing the test with a null Kv vector to check if the mapping is really linear</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">if</span>( bk != <span class="keyword">nullptr</span> ){</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keyword">typedef</span> <a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html">linearalgebra::EigenSparseMatrix&lt;In,In&gt;</a> EigenSparseKMatrix;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="keyword">const</span> EigenSparseKMatrix* K = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>EigenSparseKMatrix*<span class="keyword">&gt;</span>(bk);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="keywordflow">if</span>( K == <span class="keyword">nullptr</span> ){</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                succeed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;getK returns a matrix of non-EigenSparseMatrix type&quot;</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <span class="comment">// TODO perform a slow conversion with a big warning rather than a failure?</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160; </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">if</span>( K-&gt;compressedMatrix.nonZeros() ) K-&gt;<a class="code" href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html#a0bcf3f3be3ec9035acfb12be76687059">mult</a>(Kv,totalvp);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="comment">// check that K.vp = dfp</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">for</span>( Index p=0, offset=0; p&lt;Np.size(); p++ ) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="structsofa_1_1_multi_mapping__test.html#a6b0ebe7059f48745ec40dfcac25a9d16">InVecDeriv</a> Kvp( Kv.begin()+offset, Kv.begin()+offset+fp12[p].size() );</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            offset+=fp12[p].size();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">if</span>( this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a5ba407afd89c68f9dc2717969625cbce">vectorMaxDiff</a>(Kvp,fp12[p])&gt;this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">epsilon</a>()*errorMax ){</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                succeed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                ADD_FAILURE() &lt;&lt; <span class="stringliteral">&quot;K test failed on parent &quot;</span>&lt;&lt; p &lt;&lt; <span class="stringliteral">&quot;, difference should be less than &quot;</span> &lt;&lt; this-&gt;<a class="code" href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">epsilon</a>()*errorMax  &lt;&lt; std::endl</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                              &lt;&lt; <span class="stringliteral">&quot;Kv    = &quot;</span> &lt;&lt; Kvp &lt;&lt; std::endl</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                              &lt;&lt; <span class="stringliteral">&quot;dfp = &quot;</span> &lt;&lt; fp12[p] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">return</span> succeed;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="structsofa_1_1_multi_mapping__test.html#ab2400b7ba4ae90f288fa0f46792d094a">  419</a></span>&#160;    <a class="code" href="structsofa_1_1_multi_mapping__test.html#ab2400b7ba4ae90f288fa0f46792d094a">~MultiMapping_test</a>()<span class="keyword"> override</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">root</a>!=<span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            <a class="code" href="namespacesofa_1_1simulation.html#a3f188bf134586b8257f78840e11d1b61">sofa::simulation::getSimulation</a>()-&gt;<a class="code" href="classsofa_1_1simulation_1_1_simulation.html#a3d736a20fe87d6fbe7bc36515a0679dc">unload</a>(<a class="code" href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">root</a>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;};</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;} <span class="comment">// namespace sofa</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ae1cbaece2d360695a38b76f2db3e9a2b"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ae1cbaece2d360695a38b76f2db3e9a2b">sofa::MultiMapping_test::WriteInVecDeriv</a></div><div class="ttdeci">InDOFs::WriteVecDeriv WriteInVecDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:65</div></div>
<div class="ttc" id="aclasssofa_1_1simulation_1_1_simulation_html"><div class="ttname"><a href="classsofa_1_1simulation_1_1_simulation.html">sofa::simulation::Simulation</a></div><div class="ttdef"><b>Definition:</b> Simulation.h:45</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a72f845433b1984799d9ab860c70e66e6"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a72f845433b1984799d9ab860c70e66e6">sofa::MultiMapping_test::WriteInVecCoord</a></div><div class="ttdeci">InDOFs::WriteVecCoord WriteInVecCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:63</div></div>
<div class="ttc" id="aclasssofa_1_1component_1_1statecontainer_1_1_mechanical_object_html_acf523069e5b1497cffac17511dcd3b1e"><div class="ttname"><a href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#acf523069e5b1497cffac17511dcd3b1e">sofa::component::statecontainer::MechanicalObject::Real</a></div><div class="ttdeci">DataTypes::Real Real</div><div class="ttdef"><b>Definition:</b> MechanicalObject.h:83</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_acd13c6a4f6ee00f6a7e27cb4e7fb6a88"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#acd13c6a4f6ee00f6a7e27cb4e7fb6a88">sofa::MultiMapping_test::outDofs</a></div><div class="ttdeci">OutDOFs * outDofs</div><div class="ttdoc">mapping output</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:87</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html">sofa::MultiMapping_test</a></div><div class="ttdoc">Base class for the MultiMapping tests, directly adapted from Mapping_test.</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:53</div></div>
<div class="ttc" id="astructsofa_1_1testing_1_1_numeric_test_html_a34a0f20cd593faa04bf2c821272ab5c1"><div class="ttname"><a href="structsofa_1_1testing_1_1_numeric_test.html#a34a0f20cd593faa04bf2c821272ab5c1">sofa::testing::NumericTest&lt; _MultiMapping::In::Real &gt;::epsilon</a></div><div class="ttdeci">static Real epsilon()</div><div class="ttdoc">the smallest real number</div><div class="ttdef"><b>Definition:</b> NumericTest.h:93</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a52182606bf48d2d01e6bb44c521e6887"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a52182606bf48d2d01e6bb44c521e6887">sofa::MultiMapping_test::OutDeriv</a></div><div class="ttdeci">OutDOFs::Deriv OutDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:72</div></div>
<div class="ttc" id="anamespacesofa_1_1simulation_html_a3f188bf134586b8257f78840e11d1b61"><div class="ttname"><a href="namespacesofa_1_1simulation.html#a3f188bf134586b8257f78840e11d1b61">sofa::simulation::getSimulation</a></div><div class="ttdeci">SOFA_SIMULATION_CORE_API Simulation * getSimulation()</div><div class="ttdef"><b>Definition:</b> Simulation.cpp:104</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_multi_mapping_html_ac317060c2c72d76c705ca36f93e247b7"><div class="ttname"><a href="classsofa_1_1core_1_1_multi_mapping.html#ac317060c2c72d76c705ca36f93e247b7">sofa::core::MultiMapping::applyJ</a></div><div class="ttdeci">void applyJ(const MechanicalParams *mparams, MultiVecDerivId outVel, ConstMultiVecDerivId inVel) override</div><div class="ttdef"><b>Definition:</b> MultiMapping.inl:150</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_mechanical_params_html_adb523f266a22b0f747071bdd0e521f75"><div class="ttname"><a href="classsofa_1_1core_1_1_mechanical_params.html#adb523f266a22b0f747071bdd0e521f75">sofa::core::MechanicalParams::setSymmetricMatrix</a></div><div class="ttdeci">MechanicalParams &amp; setSymmetricMatrix(bool b)</div><div class="ttdoc">Set the symmetric matrix flag (for implicit schemes), for solvers specialized on symmetric matrices.</div><div class="ttdef"><b>Definition:</b> MechanicalParams.h:224</div></div>
<div class="ttc" id="aclasssofa_1_1linearalgebra_1_1_eigen_sparse_matrix_html_a7f2932de35c484b7799869ecc994b006"><div class="ttname"><a href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html#a7f2932de35c484b7799869ecc994b006">sofa::linearalgebra::EigenSparseMatrix::addMult</a></div><div class="ttdeci">void addMult(OutVecDeriv &amp;result, const InVecDeriv &amp;data) const</div><div class="ttdoc">compute result += A * data</div><div class="ttdef"><b>Definition:</b> EigenSparseMatrix.h:454</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1objectmodel_1_1_base_html_ab57acce1b994c39fb8ad8014583a8bbd"><div class="ttname"><a href="classsofa_1_1core_1_1objectmodel_1_1_base.html#ab57acce1b994c39fb8ad8014583a8bbd">sofa::core::objectmodel::Base::SPtr</a></div><div class="ttdeci">sptr&lt; Base &gt; SPtr</div><div class="ttdef"><b>Definition:</b> Base.h:120</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a6067b8002b4e6abe41db5f56fd803714"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a6067b8002b4e6abe41db5f56fd803714">sofa::MultiMapping_test::InDOFs</a></div><div class="ttdeci">component::statecontainer::MechanicalObject&lt; In &gt; InDOFs</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:57</div></div>
<div class="ttc" id="anamespacesofa_1_1simulation_html_aca2e21b52ff20c9894ee0246db43af80"><div class="ttname"><a href="namespacesofa_1_1simulation.html#aca2e21b52ff20c9894ee0246db43af80">sofa::simulation::setSimulation</a></div><div class="ttdeci">SOFA_SIMULATION_CORE_API void setSimulation(Simulation *s)</div><div class="ttdoc">Set the (unique) simulation which controls the scene.</div><div class="ttdef"><b>Definition:</b> Simulation.cpp:98</div></div>
<div class="ttc" id="aclasssofa_1_1linearalgebra_1_1_eigen_sparse_matrix_html_a0bcf3f3be3ec9035acfb12be76687059"><div class="ttname"><a href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html#a0bcf3f3be3ec9035acfb12be76687059">sofa::linearalgebra::EigenSparseMatrix::mult</a></div><div class="ttdeci">void mult(OutVecDeriv &amp;result, const InVecDeriv &amp;data) const</div><div class="ttdoc">compute result = A * data</div><div class="ttdef"><b>Definition:</b> EigenSparseMatrix.h:449</div></div>
<div class="ttc" id="a_state_container_2src_2sofa_2component_2statecontainer_2_mechanical_object_8h_html"><div class="ttname"><a href="_state_container_2src_2sofa_2component_2statecontainer_2_mechanical_object_8h.html">MechanicalObject.h</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_acba59fe99d0ab3b373f98ae6f0aba5fc"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#acba59fe99d0ab3b373f98ae6f0aba5fc">sofa::MultiMapping_test::OutVecDeriv</a></div><div class="ttdeci">OutDOFs::VecDeriv OutVecDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:74</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ad7cf073e5e0911dcd2e84afd05a7bae5"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ad7cf073e5e0911dcd2e84afd05a7bae5">sofa::MultiMapping_test::In</a></div><div class="ttdeci">Mapping::In In</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:56</div></div>
<div class="ttc" id="aclasssofa_1_1linearalgebra_1_1_eigen_sparse_matrix_html_a729eb0764a1120e0d1b55ada87b9e003"><div class="ttname"><a href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html#a729eb0764a1120e0d1b55ada87b9e003">sofa::linearalgebra::EigenSparseMatrix::addMultTranspose</a></div><div class="ttdeci">void addMultTranspose(InVecDeriv &amp;result, const OutVecDeriv &amp;data) const</div><div class="ttdoc">compute result += A^T * data</div><div class="ttdef"><b>Definition:</b> EigenSparseMatrix.h:464</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ac6655d65ecb90b54a1c046685fbff3ec"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ac6655d65ecb90b54a1c046685fbff3ec">sofa::MultiMapping_test::errorMax</a></div><div class="ttdeci">Real errorMax</div><div class="ttdoc">The test is successfull if the (infinite norm of the) difference is less than maxError * numeric_limi...</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:93</div></div>
<div class="ttc" id="aclasssofa_1_1linearalgebra_1_1_eigen_sparse_matrix_html"><div class="ttname"><a href="classsofa_1_1linearalgebra_1_1_eigen_sparse_matrix.html">sofa::linearalgebra::EigenSparseMatrix&lt; In, Out &gt;</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ab37e5be84d9f660871b1e73f86712e69"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ab37e5be84d9f660871b1e73f86712e69">sofa::MultiMapping_test::WriteOutVecCoord</a></div><div class="ttdeci">OutDOFs::WriteVecCoord WriteOutVecCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:76</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a18f47ce5b3375206654d0933d5582465"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a18f47ce5b3375206654d0933d5582465">sofa::MultiMapping_test::setupScene</a></div><div class="ttdeci">void setupScene(int numParents)</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:105</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a645bebb63f07cb1db234468b7d7b9fd0"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a645bebb63f07cb1db234468b7d7b9fd0">sofa::MultiMapping_test::OutCoord</a></div><div class="ttdeci">OutDOFs::Coord OutCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:71</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ab6307ab0b62c21339320407182e2326d"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ab6307ab0b62c21339320407182e2326d">sofa::MultiMapping_test::InDeriv</a></div><div class="ttdeci">InDOFs::Deriv InDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:59</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a0672de0685239ac388da055947036c13"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a0672de0685239ac388da055947036c13">sofa::MultiMapping_test::OutVecCoord</a></div><div class="ttdeci">OutDOFs::VecCoord OutVecCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:73</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_multi_mapping_html_a3d1f1aa96bf21d5e3bb0cc82bb435ba5"><div class="ttname"><a href="classsofa_1_1core_1_1_multi_mapping.html#a3d1f1aa96bf21d5e3bb0cc82bb435ba5">sofa::core::MultiMapping::addInputModel</a></div><div class="ttdeci">void addInputModel(BaseState *model, const std::string &amp;path=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> MultiMapping.inl:44</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_multi_mapping_html"><div class="ttname"><a href="classsofa_1_1core_1_1_multi_mapping.html">sofa::core::MultiMapping&lt; In, Out &gt;</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a928b2f4ab8e9335cae793dd5f9791bec"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a928b2f4ab8e9335cae793dd5f9791bec">sofa::MultiMapping_test::Mapping</a></div><div class="ttdeci">_MultiMapping Mapping</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:55</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ab2400b7ba4ae90f288fa0f46792d094a"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ab2400b7ba4ae90f288fa0f46792d094a">sofa::MultiMapping_test::~MultiMapping_test</a></div><div class="ttdeci">~MultiMapping_test() override</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:419</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_aa571a81eeac2685881336f1c792775cc"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#aa571a81eeac2685881336f1c792775cc">sofa::MultiMapping_test::runTest</a></div><div class="ttdeci">bool runTest(const type::vector&lt; InVecCoord &gt; &amp;parentCoords, const OutVecCoord &amp;expectedChildCoords)</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:151</div></div>
<div class="ttc" id="astructsofa_1_1testing_1_1_numeric_test_html_a5ba407afd89c68f9dc2717969625cbce"><div class="ttname"><a href="structsofa_1_1testing_1_1_numeric_test.html#a5ba407afd89c68f9dc2717969625cbce">sofa::testing::NumericTest&lt; _MultiMapping::In::Real &gt;::vectorMaxDiff</a></div><div class="ttdeci">static Real vectorMaxDiff(const sofa::type::Vec&lt; N, Real &gt; &amp;m1, const Vector2 &amp;m2)</div><div class="ttdoc">return the maximum difference between corresponding entries, or the infinity if the vectors have diff...</div><div class="ttdef"><b>Definition:</b> NumericTest.h:113</div></div>
<div class="ttc" id="astructsofa_1_1testing_1_1_numeric_test_html"><div class="ttname"><a href="structsofa_1_1testing_1_1_numeric_test.html">sofa::testing::NumericTest</a></div><div class="ttdoc">Helper functions to compare scalars, vectors, matrices, etc.</div><div class="ttdef"><b>Definition:</b> NumericTest.h:62</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a767d9c6c0b9e62437c06d33ca744c90c"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a767d9c6c0b9e62437c06d33ca744c90c">sofa::MultiMapping_test::OutDataVecCoord</a></div><div class="ttdeci">Data&lt; OutVecCoord &gt; OutDataVecCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:79</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a3eaa561c82784291407fb5c8814dfe60"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a3eaa561c82784291407fb5c8814dfe60">sofa::MultiMapping_test::OutDataVecDeriv</a></div><div class="ttdeci">Data&lt; OutVecDeriv &gt; OutDataVecDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:80</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_base_mapping_html_af67465c18a8771c3f353c672c2ad044a"><div class="ttname"><a href="classsofa_1_1core_1_1_base_mapping.html#af67465c18a8771c3f353c672c2ad044a">sofa::core::BaseMapping::updateK</a></div><div class="ttdeci">virtual void updateK(const MechanicalParams *, ConstMultiVecDerivId)</div><div class="ttdef"><b>Definition:</b> BaseMapping.h:214</div></div>
<div class="ttc" id="anamespacesofa_html"><div class="ttname"><a href="namespacesofa.html">sofa</a></div><div class="ttdoc">This allow MeshTrian to interact with the messaging system.</div><div class="ttdef"><b>Definition:</b> ConstraintAnimationLoop.cpp:81</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a78c717be5e8b8016bee58d8fd77d9013"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a78c717be5e8b8016bee58d8fd77d9013">sofa::MultiMapping_test::ReadOutVecDeriv</a></div><div class="ttdeci">OutDOFs::ReadVecDeriv ReadOutVecDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:77</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ae1d0c4070458d869eb6d55f2e2d9ca07"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ae1d0c4070458d869eb6d55f2e2d9ca07">sofa::MultiMapping_test::ReadInVecCoord</a></div><div class="ttdeci">InDOFs::ReadVecCoord ReadInVecCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:62</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a8cd6e9972896545c7d255cc62688eb42"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a8cd6e9972896545c7d255cc62688eb42">sofa::MultiMapping_test::difference</a></div><div class="ttdeci">OutDeriv difference(const OutCoord &amp;c1, const OutCoord &amp;c2)</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:132</div></div>
<div class="ttc" id="aclasssofa_1_1simulation_1_1_simulation_html_aa0a7c57fafc306f40092c0281388f026"><div class="ttname"><a href="classsofa_1_1simulation_1_1_simulation.html#aa0a7c57fafc306f40092c0281388f026">sofa::simulation::Simulation::init</a></div><div class="ttdeci">virtual void init(Node *root)</div><div class="ttdoc">Initialize the objects.</div><div class="ttdef"><b>Definition:</b> Simulation.cpp:156</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1objectmodel_1_1_data_html"><div class="ttname"><a href="classsofa_1_1core_1_1objectmodel_1_1_data.html">sofa::core::objectmodel::Data&lt; InVecCoord &gt;</a></div></div>
<div class="ttc" id="aclasssofa_1_1testing_1_1_base_simulation_test_html"><div class="ttname"><a href="classsofa_1_1testing_1_1_base_simulation_test.html">sofa::testing::BaseSimulationTest</a></div><div class="ttdef"><b>Definition:</b> BaseSimulationTest.h:55</div></div>
<div class="ttc" id="a_vector_operations_8h_html"><div class="ttname"><a href="_vector_operations_8h.html">VectorOperations.h</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a622afbe34df296acd41a644b7589147b"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a622afbe34df296acd41a644b7589147b">sofa::MultiMapping_test::InDataVecDeriv</a></div><div class="ttdeci">Data&lt; InVecDeriv &gt; InDataVecDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:67</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ab827d6615199136cdc4b094b7f3bd0cf"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ab827d6615199136cdc4b094b7f3bd0cf">sofa::MultiMapping_test::child</a></div><div class="ttdeci">simulation::Node::SPtr child</div><div class="ttdoc">Child node, created by setupScene.</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:89</div></div>
<div class="ttc" id="a_linear_algebra_2src_2sofa_2linearalgebra_2_full_vector_8h_html"><div class="ttname"><a href="_linear_algebra_2src_2sofa_2linearalgebra_2_full_vector_8h.html">FullVector.h</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_aaa47eb9abea416ddfeb757ccb4ff2ee6"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#aaa47eb9abea416ddfeb757ccb4ff2ee6">sofa::MultiMapping_test::EigenSparseMatrix</a></div><div class="ttdeci">linearalgebra::EigenSparseMatrix&lt; In, Out &gt; EigenSparseMatrix</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:82</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a71bb54e609cdd240e82e346ae09b9520"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a71bb54e609cdd240e82e346ae09b9520">sofa::MultiMapping_test::ReadInVecDeriv</a></div><div class="ttdeci">InDOFs::ReadVecDeriv ReadInVecDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:64</div></div>
<div class="ttc" id="astructsofa_1_1testing_1_1_numeric_test_html_a24fbe45d7f112256b528932852a8ab73"><div class="ttname"><a href="structsofa_1_1testing_1_1_numeric_test.html#a24fbe45d7f112256b528932852a8ab73">sofa::testing::NumericTest&lt; _MultiMapping::In::Real &gt;::norm</a></div><div class="ttdeci">static float norm(float a)</div><div class="ttdef"><b>Definition:</b> NumericTest.h:225</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_base_mapping_html_aa675937c08a5e5ae92ef9dd4395913af"><div class="ttname"><a href="classsofa_1_1core_1_1_base_mapping.html#aa675937c08a5e5ae92ef9dd4395913af">sofa::core::BaseMapping::applyDJT</a></div><div class="ttdeci">virtual void applyDJT(const MechanicalParams *mparams, MultiVecDerivId inForce, ConstMultiVecDerivId outForce)=0</div><div class="ttdoc">Accumulate a change of parent force due to the change of the mapping, for a constant child force....</div></div>
<div class="ttc" id="asrc_2sofa_2testing_2_numeric_test_8h_html"><div class="ttname"><a href="src_2sofa_2testing_2_numeric_test_8h.html">NumericTest.h</a></div></div>
<div class="ttc" id="aclasssofa_1_1simulation_1_1_simulation_html_af23b42f755a12696927092a8bfcd9b19"><div class="ttname"><a href="classsofa_1_1simulation_1_1_simulation.html#af23b42f755a12696927092a8bfcd9b19">sofa::simulation::Simulation::createNewGraph</a></div><div class="ttdeci">virtual NodeSPtr createNewGraph(const std::string &amp;name)=0</div><div class="ttdoc">create a new graph(or tree) and return its root node.</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_aa04abf256b8c0adbead2c7ffbf29ad82"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#aa04abf256b8c0adbead2c7ffbf29ad82">sofa::MultiMapping_test::Real</a></div><div class="ttdeci">InDOFs::Real Real</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:58</div></div>
<div class="ttc" id="aclasssofa_1_1component_1_1statecontainer_1_1_mechanical_object_html_a05882e2e9ba8d707ab531ab94a1f39e0"><div class="ttname"><a href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a05882e2e9ba8d707ab531ab94a1f39e0">sofa::component::statecontainer::MechanicalObject::VecCoord</a></div><div class="ttdeci">DataTypes::VecCoord VecCoord</div><div class="ttdef"><b>Definition:</b> MechanicalObject.h:86</div></div>
<div class="ttc" id="a_type_2src_2sofa_2type_2vector_8h_html"><div class="ttname"><a href="_type_2src_2sofa_2type_2vector_8h.html">vector.h</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a5a775243c5ed6b2795c78a5de60ded4f"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a5a775243c5ed6b2795c78a5de60ded4f">sofa::MultiMapping_test::InVecCoord</a></div><div class="ttdeci">InDOFs::VecCoord InVecCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:60</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_afea3a80d286fe92520a4a8cf1939dbcd"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#afea3a80d286fe92520a4a8cf1939dbcd">sofa::MultiMapping_test::WriteOutVecDeriv</a></div><div class="ttdeci">OutDOFs::WriteVecDeriv WriteOutVecDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:78</div></div>
<div class="ttc" id="anamespacesofa_1_1testing_html_ad680a85ee9e11c69387a3b74cd0c911f"><div class="ttname"><a href="namespacesofa_1_1testing.html#ad680a85ee9e11c69387a3b74cd0c911f">sofa::testing::g_minDeltaErrorRatio</a></div><div class="ttdeci">const SReal g_minDeltaErrorRatio</div><div class="ttdoc">acceptable ratio between finite difference delta and error threshold</div><div class="ttdef"><b>Definition:</b> BaseTest.h:52</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a9ca43860d7b5b612dfd5d48237efbed4"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a9ca43860d7b5b612dfd5d48237efbed4">sofa::MultiMapping_test::MultiMapping_test</a></div><div class="ttdeci">MultiMapping_test()</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:96</div></div>
<div class="ttc" id="aclasssofa_1_1type_1_1vector_html"><div class="ttname"><a href="classsofa_1_1type_1_1vector.html">sofa::type::vector</a></div><div class="ttdef"><b>Definition:</b> vector_T.h:54</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_base_mapping_html_abfe8f899d3979d1aa5def4ea27b1cc09"><div class="ttname"><a href="classsofa_1_1core_1_1_base_mapping.html#abfe8f899d3979d1aa5def4ea27b1cc09">sofa::core::BaseMapping::getK</a></div><div class="ttdeci">virtual const linearalgebra::BaseMatrix * getK()</div><div class="ttdef"><b>Definition:</b> BaseMapping.h:220</div></div>
<div class="ttc" id="aclasssofa_1_1type_1_1vector_html_aeebf0c6711c49e12436612664f82e00d"><div class="ttname"><a href="classsofa_1_1type_1_1vector.html#aeebf0c6711c49e12436612664f82e00d">sofa::type::vector::fill</a></div><div class="ttdeci">void fill(const T &amp;value)</div><div class="ttdoc">Sets every element to 'value'.</div><div class="ttdef"><b>Definition:</b> vector_T.h:163</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_multi_mapping_html_a971fd53608c92b36a6326fd5b4ed8dce"><div class="ttname"><a href="classsofa_1_1core_1_1_multi_mapping.html#a971fd53608c92b36a6326fd5b4ed8dce">sofa::core::MultiMapping::addOutputModel</a></div><div class="ttdeci">void addOutputModel(BaseState *model, const std::string &amp;path=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> MultiMapping.inl:52</div></div>
<div class="ttc" id="aclasssofa_1_1component_1_1statecontainer_1_1_mechanical_object_html"><div class="ttname"><a href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html">sofa::component::statecontainer::MechanicalObject</a></div><div class="ttdoc">This class can be overridden if needed for additionnal storage within template specializations.</div><div class="ttdef"><b>Definition:</b> MechanicalObject.h:63</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_base_mapping_html_a3e64c52a1e3dbf7ff6e9adb5fae18cf0"><div class="ttname"><a href="classsofa_1_1core_1_1_base_mapping.html#a3e64c52a1e3dbf7ff6e9adb5fae18cf0">sofa::core::BaseMapping::getJs</a></div><div class="ttdeci">virtual const type::vector&lt; sofa::linearalgebra::BaseMatrix * &gt; * getJs()</div><div class="ttdef"><b>Definition:</b> BaseMapping.h:209</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_mechanical_params_html"><div class="ttname"><a href="classsofa_1_1core_1_1_mechanical_params.html">sofa::core::MechanicalParams</a></div><div class="ttdoc">Class gathering parameters use by mechanical components methods, and transmitted by mechanical visito...</div><div class="ttdef"><b>Definition:</b> MechanicalParams.h:77</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a5785496437e89f2b9e6d77cbf10e9357"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a5785496437e89f2b9e6d77cbf10e9357">sofa::MultiMapping_test::OutDOFs</a></div><div class="ttdeci">component::statecontainer::MechanicalObject&lt; Out &gt; OutDOFs</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:70</div></div>
<div class="ttc" id="aclasssofa_1_1component_1_1statecontainer_1_1_mechanical_object_html_a705fac58c33b23c20e6bac3fd2b0bb87"><div class="ttname"><a href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a705fac58c33b23c20e6bac3fd2b0bb87">sofa::component::statecontainer::MechanicalObject::Deriv</a></div><div class="ttdeci">DataTypes::Deriv Deriv</div><div class="ttdef"><b>Definition:</b> MechanicalObject.h:85</div></div>
<div class="ttc" id="aclasssofa_1_1component_1_1statecontainer_1_1_mechanical_object_html_a83fb2b666b4e514e93d3bb221aa681ef"><div class="ttname"><a href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a83fb2b666b4e514e93d3bb221aa681ef">sofa::component::statecontainer::MechanicalObject::VecDeriv</a></div><div class="ttdeci">DataTypes::VecDeriv VecDeriv</div><div class="ttdef"><b>Definition:</b> MechanicalObject.h:87</div></div>
<div class="ttc" id="anamespacesofa_1_1testing_html_a89ddfabc7816aa48cd5fa9d8184e93c3"><div class="ttname"><a href="namespacesofa_1_1testing.html#a89ddfabc7816aa48cd5fa9d8184e93c3">sofa::testing::copyFromData</a></div><div class="ttdeci">void copyFromData(Vector &amp;v, const ReadData &amp;d)</div><div class="ttdoc">Resize the Vector and copy it from the Data.</div><div class="ttdef"><b>Definition:</b> NumericTest.h:228</div></div>
<div class="ttc" id="aclasssofa_1_1component_1_1statecontainer_1_1_mechanical_object_html_a8d99aab23ccd48cab164d43ab3ffd2c1"><div class="ttname"><a href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a8d99aab23ccd48cab164d43ab3ffd2c1">sofa::component::statecontainer::MechanicalObject::getSize</a></div><div class="ttdeci">Size getSize() const override</div><div class="ttdef"><b>Definition:</b> MechanicalObject.h:171</div></div>
<div class="ttc" id="a_multi_mapping_8h_html"><div class="ttname"><a href="_multi_mapping_8h.html">MultiMapping.h</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_aec05fdee5d7dc29d638dbe75b49dbf72"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#aec05fdee5d7dc29d638dbe75b49dbf72">sofa::MultiMapping_test::inDofs</a></div><div class="ttdeci">type::vector&lt; InDOFs * &gt; inDofs</div><div class="ttdoc">mapping input</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:86</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a158bce27a7c47835538ec4c5f2958680"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a158bce27a7c47835538ec4c5f2958680">sofa::MultiMapping_test::deltaRange</a></div><div class="ttdeci">std::pair&lt; Real, Real &gt; deltaRange</div><div class="ttdoc">The minimum and maximum magnitudes of the change of each scalar value of the small displacement is de...</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:92</div></div>
<div class="ttc" id="astructsofa_1_1testing_1_1_numeric_test_html_ad408596315ebad84d2c685a911bdfd0f"><div class="ttname"><a href="structsofa_1_1testing_1_1_numeric_test.html#ad408596315ebad84d2c685a911bdfd0f">sofa::testing::NumericTest&lt; _MultiMapping::In::Real &gt;::isSmall</a></div><div class="ttdeci">static bool isSmall(Real r, Real ratio=1.)</div><div class="ttdoc">true if the magnitude of r is less than ratio*epsilon</div><div class="ttdef"><b>Definition:</b> NumericTest.h:99</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_mapping_html_a2cbc1372bbf7fdcbf0a794f8a3653705"><div class="ttname"><a href="classsofa_1_1core_1_1_mapping.html#a2cbc1372bbf7fdcbf0a794f8a3653705">sofa::core::Mapping::In</a></div><div class="ttdeci">TIn In</div><div class="ttdoc">Input Data Type.</div><div class="ttdef"><b>Definition:</b> Mapping.h:108</div></div>
<div class="ttc" id="a_linear_algebra_2src_2sofa_2linearalgebra_2_eigen_sparse_matrix_8h_html"><div class="ttname"><a href="_linear_algebra_2src_2sofa_2linearalgebra_2_eigen_sparse_matrix_8h.html">EigenSparseMatrix.h</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a42120418e465ab970e54188685ba6c85"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a42120418e465ab970e54188685ba6c85">sofa::MultiMapping_test::parents</a></div><div class="ttdeci">type::vector&lt; simulation::Node::SPtr &gt; parents</div><div class="ttdoc">Parent nodes, created by setupScene.</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:90</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_mapping_html_a2fe45db3b15eca1e01f0d010ba464dc3"><div class="ttname"><a href="classsofa_1_1core_1_1_mapping.html#a2fe45db3b15eca1e01f0d010ba464dc3">sofa::core::Mapping::Out</a></div><div class="ttdeci">TOut Out</div><div class="ttdoc">Output Data Type.</div><div class="ttdef"><b>Definition:</b> Mapping.h:110</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_multi_mapping_html_ab6ed07a5be5d5dff58241006b6c5d6e4"><div class="ttname"><a href="classsofa_1_1core_1_1_multi_mapping.html#ab6ed07a5be5d5dff58241006b6c5d6e4">sofa::core::MultiMapping::apply</a></div><div class="ttdeci">void apply(const MechanicalParams *mparams, MultiVecCoordId outPos, ConstMultiVecCoordId inPos) override</div><div class="ttdef"><b>Definition:</b> MultiMapping.inl:140</div></div>
<div class="ttc" id="anamespacesofa_1_1testing_html_a9171e6a4ca24208dd28e8392efcb1423"><div class="ttname"><a href="namespacesofa_1_1testing.html#a9171e6a4ca24208dd28e8392efcb1423">sofa::testing::copyToData</a></div><div class="ttdeci">void copyToData(WriteData &amp;d, const Vector &amp;v)</div><div class="ttdoc">Copy the Vector to the Data. They must have the same size.</div><div class="ttdef"><b>Definition:</b> NumericTest.h:236</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_multi_mapping_html_a42929000b3a2d72d33b4a5bcbe47acde"><div class="ttname"><a href="classsofa_1_1core_1_1_multi_mapping.html#a42929000b3a2d72d33b4a5bcbe47acde">sofa::core::MultiMapping::applyJT</a></div><div class="ttdeci">void applyJT(const MechanicalParams *mparams, MultiVecDerivId inForce, ConstMultiVecDerivId outForce) override</div><div class="ttdef"><b>Definition:</b> MultiMapping.inl:160</div></div>
<div class="ttc" id="aclasssofa_1_1simulation_1_1graph_1_1_d_a_g_simulation_html"><div class="ttname"><a href="classsofa_1_1simulation_1_1graph_1_1_d_a_g_simulation.html">sofa::simulation::graph::DAGSimulation</a></div><div class="ttdef"><b>Definition:</b> DAGSimulation.h:57</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ae4921ba1b53a64ac407621370dec9883"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ae4921ba1b53a64ac407621370dec9883">sofa::MultiMapping_test::root</a></div><div class="ttdeci">simulation::Node::SPtr root</div><div class="ttdoc">Root of the scene graph, created by the constructor an re-used in the tests.</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:88</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_mechanical_params_html_a34cb1e2e21c73225c4b1b324f70995ef"><div class="ttname"><a href="classsofa_1_1core_1_1_mechanical_params.html#a34cb1e2e21c73225c4b1b324f70995ef">sofa::core::MechanicalParams::setKFactor</a></div><div class="ttdeci">MechanicalParams &amp; setKFactor(SReal v)</div><div class="ttdoc">Set Stiffness matrix contributions factor (for implicit schemes)</div><div class="ttdef"><b>Definition:</b> MechanicalParams.h:221</div></div>
<div class="ttc" id="aclasssofa_1_1simulation_1_1_simulation_html_a3d736a20fe87d6fbe7bc36515a0679dc"><div class="ttname"><a href="classsofa_1_1simulation_1_1_simulation.html#a3d736a20fe87d6fbe7bc36515a0679dc">sofa::simulation::Simulation::unload</a></div><div class="ttdeci">virtual void unload(NodeSPtr root)</div><div class="ttdoc">Unload a scene from a Node.</div><div class="ttdef"><b>Definition:</b> Simulation.cpp:465</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a6b0ebe7059f48745ec40dfcac25a9d16"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a6b0ebe7059f48745ec40dfcac25a9d16">sofa::MultiMapping_test::InVecDeriv</a></div><div class="ttdeci">InDOFs::VecDeriv InVecDeriv</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:61</div></div>
<div class="ttc" id="aclasssofa_1_1core_1_1_mechanical_params_html_aa09d2d6190fb9edfd1a726cf4b1f7bcb"><div class="ttname"><a href="classsofa_1_1core_1_1_mechanical_params.html#aa09d2d6190fb9edfd1a726cf4b1f7bcb">sofa::core::MechanicalParams::setDx</a></div><div class="ttdeci">MechanicalParams &amp; setDx(ConstVecDerivId v)</div><div class="ttdoc">Set the IDs of dx vector (for implicit schemes)</div><div class="ttdef"><b>Definition:</b> MechanicalParams.h:275</div></div>
<div class="ttc" id="aclasssofa_1_1linearalgebra_1_1_base_matrix_html"><div class="ttname"><a href="classsofa_1_1linearalgebra_1_1_base_matrix.html">sofa::linearalgebra::BaseMatrix</a></div><div class="ttdef"><b>Definition:</b> BaseMatrix.h:60</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a89530560649ee50f2a37b34839a0da33"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a89530560649ee50f2a37b34839a0da33">sofa::MultiMapping_test::simulation</a></div><div class="ttdeci">simulation::Simulation * simulation</div><div class="ttdoc">created by the constructor an re-used in the tests</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:91</div></div>
<div class="ttc" id="a_simulation_2_graph_2src_2sofa_2simulation_2graph_2_d_a_g_simulation_8h_html"><div class="ttname"><a href="_simulation_2_graph_2src_2sofa_2simulation_2graph_2_d_a_g_simulation_8h.html">DAGSimulation.h</a></div></div>
<div class="ttc" id="asrc_2sofa_2testing_2_base_simulation_test_8h_html"><div class="ttname"><a href="src_2sofa_2testing_2_base_simulation_test_8h.html">BaseSimulationTest.h</a></div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a0018072db8e9b29b5f85ef58c1a03f70"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a0018072db8e9b29b5f85ef58c1a03f70">sofa::MultiMapping_test::mapping</a></div><div class="ttdeci">core::MultiMapping&lt; In, Out &gt; * mapping</div><div class="ttdoc">the mapping to be tested</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:85</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_ab5addeddbd8f37715f373b24067aa25d"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#ab5addeddbd8f37715f373b24067aa25d">sofa::MultiMapping_test::Out</a></div><div class="ttdeci">Mapping::Out Out</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:69</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a01339702a3757eb46ee327a04ef16713"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a01339702a3757eb46ee327a04ef16713">sofa::MultiMapping_test::InDataVecCoord</a></div><div class="ttdeci">Data&lt; InVecCoord &gt; InDataVecCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:66</div></div>
<div class="ttc" id="astructsofa_1_1_multi_mapping__test_html_a5b80217f0d4b53e603a89c78caafa753"><div class="ttname"><a href="structsofa_1_1_multi_mapping__test.html#a5b80217f0d4b53e603a89c78caafa753">sofa::MultiMapping_test::ReadOutVecCoord</a></div><div class="ttdeci">OutDOFs::ReadVecCoord ReadOutVecCoord</div><div class="ttdef"><b>Definition:</b> MultiMappingTestCreation.h:75</div></div>
<div class="ttc" id="aclasssofa_1_1component_1_1statecontainer_1_1_mechanical_object_html_a7c0bd56aca42d0e855a400b50f3e078b"><div class="ttname"><a href="classsofa_1_1component_1_1statecontainer_1_1_mechanical_object.html#a7c0bd56aca42d0e855a400b50f3e078b">sofa::component::statecontainer::MechanicalObject::Coord</a></div><div class="ttdeci">DataTypes::Coord Coord</div><div class="ttdef"><b>Definition:</b> MechanicalObject.h:84</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_96dfcb6d53520fc7de57eb7eb67a00f9.html">Sofa</a></li><li class="navelem"><a class="el" href="dir_42ede1205723b3b890fa00e138974231.html">Component</a></li><li class="navelem"><a class="el" href="dir_518c9dfd6aa60e6f51df0ba4440359e4.html">Mapping</a></li><li class="navelem"><a class="el" href="dir_76c8f016fb348cb56ad08646969bfd76.html">Testing</a></li><li class="navelem"><a class="el" href="dir_8015a64c27eb8ae64c83d38c59de0293.html">src</a></li><li class="navelem"><a class="el" href="dir_363b65c7e2869d611b50a3e9596e9e5b.html">sofa</a></li><li class="navelem"><a class="el" href="dir_16a44ed51615708bb79632a41b0b9a84.html">component</a></li><li class="navelem"><a class="el" href="dir_10e2c15998a86f5a081a4db2c442f82a.html">mapping</a></li><li class="navelem"><a class="el" href="dir_0e9dc40c43b8e1b3b862254a8a04d409.html">testing</a></li><li class="navelem"><a class="el" href="_multi_mapping_test_creation_8h.html">MultiMappingTestCreation.h</a></li>
    <li class="footer">Generated on Wed Jul 27 2022 00:48:34 for SOFA by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
