<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SOFA: AspectBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SOFA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AspectBuffer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_aspect_pool_8h_source.html">AspectPool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a42a13f316c1e343f2531e4f2fce43d78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a42a13f316c1e343f2531e4f2fce43d78">AspectBuffer</a> (<a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_pool.html">AspectPool</a> &amp;<a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#aeda2bb025f5d0b6d111bd6ffe0c5264d">pool</a>)</td></tr>
<tr class="separator:a42a13f316c1e343f2531e4f2fce43d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af534a1406bd4634843656eb2c77a5433"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#af534a1406bd4634843656eb2c77a5433">~AspectBuffer</a> ()</td></tr>
<tr class="separator:af534a1406bd4634843656eb2c77a5433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5503f8c4af78bf59a4d1d39c8f3d518"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesofa_1_1core_1_1objectmodel.html#ac42be24a1a961f41372d43de55b9cb7a">AspectRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#ae5503f8c4af78bf59a4d1d39c8f3d518">allocate</a> ()</td></tr>
<tr class="memdesc:ae5503f8c4af78bf59a4d1d39c8f3d518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an aspect ID to prepare the next version, reusing a recent one if possible.  <a href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#ae5503f8c4af78bf59a4d1d39c8f3d518">More...</a><br /></td></tr>
<tr class="separator:ae5503f8c4af78bf59a4d1d39c8f3d518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a437dad9eafd96c4a5488b72999b64fb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a437dad9eafd96c4a5488b72999b64fb5">push</a> (<a class="el" href="namespacesofa_1_1core_1_1objectmodel.html#ac42be24a1a961f41372d43de55b9cb7a">AspectRef</a> id)</td></tr>
<tr class="memdesc:a437dad9eafd96c4a5488b72999b64fb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a new version, overriding the latest if it was not already received (in which case it can be "recycled" using allocate)  <a href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a437dad9eafd96c4a5488b72999b64fb5">More...</a><br /></td></tr>
<tr class="separator:a437dad9eafd96c4a5488b72999b64fb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaddae911d112d1f31b19e1818ed73963"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#aaddae911d112d1f31b19e1818ed73963">pop</a> (<a class="el" href="namespacesofa_1_1core_1_1objectmodel.html#ac42be24a1a961f41372d43de55b9cb7a">AspectRef</a> &amp;id)</td></tr>
<tr class="memdesc:aaddae911d112d1f31b19e1818ed73963"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive the latest version, return true if one is available, or false otherwise (in which case id is unchanged)  <a href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#aaddae911d112d1f31b19e1818ed73963">More...</a><br /></td></tr>
<tr class="separator:aaddae911d112d1f31b19e1818ed73963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bb3912a3ce86b15842e79d0b421204"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a> ()</td></tr>
<tr class="separator:ac8bb3912a3ce86b15842e79d0b421204"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a120ca39f4d98890b90d2c234250cdb82"><td class="memItemLeft" align="right" valign="top">typedef std::atomic&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a120ca39f4d98890b90d2c234250cdb82">AtomicInt</a></td></tr>
<tr class="separator:a120ca39f4d98890b90d2c234250cdb82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aeda2bb025f5d0b6d111bd6ffe0c5264d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_pool.html">AspectPool</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#aeda2bb025f5d0b6d111bd6ffe0c5264d">pool</a></td></tr>
<tr class="separator:aeda2bb025f5d0b6d111bd6ffe0c5264d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28679c0939579efb1703bb3783fb50c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a120ca39f4d98890b90d2c234250cdb82">AtomicInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a28679c0939579efb1703bb3783fb50c4">latestID</a></td></tr>
<tr class="memdesc:a28679c0939579efb1703bb3783fb50c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">-1 or aspect ID of the last version sent  <a href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a28679c0939579efb1703bb3783fb50c4">More...</a><br /></td></tr>
<tr class="separator:a28679c0939579efb1703bb3783fb50c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918edbced3651b5e2dda96929fd88b96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a120ca39f4d98890b90d2c234250cdb82">AtomicInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a918edbced3651b5e2dda96929fd88b96">availableID</a></td></tr>
<tr class="memdesc:a918edbced3651b5e2dda96929fd88b96"><td class="mdescLeft">&#160;</td><td class="mdescRight">-1 or aspect ID available to send the next version  <a href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a918edbced3651b5e2dda96929fd88b96">More...</a><br /></td></tr>
<tr class="separator:a918edbced3651b5e2dda96929fd88b96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is responsible for providing a buffer for communicating aspects between threads, such that only the most up to date aspect is kept, and the previous one is reused to send the next update. This is similar to triple buffering. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a120ca39f4d98890b90d2c234250cdb82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120ca39f4d98890b90d2c234250cdb82">&#9670;&nbsp;</a></span>AtomicInt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::atomic&lt;int&gt; <a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a120ca39f4d98890b90d2c234250cdb82">AtomicInt</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a42a13f316c1e343f2531e4f2fce43d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a13f316c1e343f2531e4f2fce43d78">&#9670;&nbsp;</a></span>AspectBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html">AspectBuffer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_pool.html">AspectPool</a> &amp;&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af534a1406bd4634843656eb2c77a5433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af534a1406bd4634843656eb2c77a5433">&#9670;&nbsp;</a></span>~AspectBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html">AspectBuffer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae5503f8c4af78bf59a4d1d39c8f3d518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5503f8c4af78bf59a4d1d39c8f3d518">&#9670;&nbsp;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesofa_1_1core_1_1objectmodel.html#ac42be24a1a961f41372d43de55b9cb7a">AspectRef</a> allocate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an aspect ID to prepare the next version, reusing a recent one if possible. </p>

</div>
</div>
<a id="ac8bb3912a3ce86b15842e79d0b421204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8bb3912a3ce86b15842e79d0b421204">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the buffers This must be called before either the <a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_pool.html">AspectPool</a> or this buffer is deleted </p>

</div>
</div>
<a id="aaddae911d112d1f31b19e1818ed73963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaddae911d112d1f31b19e1818ed73963">&#9670;&nbsp;</a></span>pop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesofa_1_1core_1_1objectmodel.html#ac42be24a1a961f41372d43de55b9cb7a">AspectRef</a> &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive the latest version, return true if one is available, or false otherwise (in which case id is unchanged) </p>

</div>
</div>
<a id="a437dad9eafd96c4a5488b72999b64fb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a437dad9eafd96c4a5488b72999b64fb5">&#9670;&nbsp;</a></span>push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesofa_1_1core_1_1objectmodel.html#ac42be24a1a961f41372d43de55b9cb7a">AspectRef</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a new version, overriding the latest if it was not already received (in which case it can be "recycled" using allocate) </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a918edbced3651b5e2dda96929fd88b96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918edbced3651b5e2dda96929fd88b96">&#9670;&nbsp;</a></span>availableID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a120ca39f4d98890b90d2c234250cdb82">AtomicInt</a> availableID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>-1 or aspect ID available to send the next version </p>

</div>
</div>
<a id="a28679c0939579efb1703bb3783fb50c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28679c0939579efb1703bb3783fb50c4">&#9670;&nbsp;</a></span>latestID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html#a120ca39f4d98890b90d2c234250cdb82">AtomicInt</a> latestID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>-1 or aspect ID of the last version sent </p>

</div>
</div>
<a id="aeda2bb025f5d0b6d111bd6ffe0c5264d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda2bb025f5d0b6d111bd6ffe0c5264d">&#9670;&nbsp;</a></span>pool</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_pool.html">AspectPool</a>&amp; pool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesofa.html">sofa</a></li><li class="navelem"><a class="el" href="namespacesofa_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacesofa_1_1core_1_1objectmodel.html">objectmodel</a></li><li class="navelem"><a class="el" href="classsofa_1_1core_1_1objectmodel_1_1_aspect_buffer.html">AspectBuffer</a></li>
    <li class="footer">Generated on Wed Jul 27 2022 01:09:27 for SOFA by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
